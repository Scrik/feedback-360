{"version":3,"sources":["../../src/pages/register/register.module.ts","../../src/pages/register/register.ts"],"names":[],"mappings":"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","file":"2.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { RegisterPage } from './register';\n\n@NgModule({\n  declarations: [\n    RegisterPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(RegisterPage),\n  ],\n})\nexport class RegisterPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\n\nimport { CommonProvider } from '../../providers/common/common';\nimport { BackendProvider } from '../../providers/backend/backend';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-register',\n  templateUrl: 'register.html',\n})\nexport class RegisterPage {\n\n  details: FormGroup;\n  previewPhoto;\n  photoBase64;\n\n  constructor(\n    public navCtrl: NavController,\n    private formBuilder: FormBuilder,\n    private common: CommonProvider,\n    private backend: BackendProvider\n  ) {\n\n  }\n\n  ionViewWillLoad() {\n    this.details = this.formBuilder.group({\n      email: ['', Validators.compose([Validators.email, Validators.required])],\n      password: ['', Validators.required],\n      photo: ['', Validators.required]\n    });\n  }\n\n  goToLogin() {\n    this.navCtrl.setRoot('LoginPage');\n  }\n\n  register() {\n    if (!this.details.valid) {\n      return this.common.getToast('Please fill fields correctly!').present();\n    }\n\n    this.backend.register(this.details.value.email, this.details.value.password).then(res => {\n      if (res.user) {\n        this.common.getToast('User registered', 1000).present();\n        this.navCtrl.setRoot('LoginPage');\n      }\n    }).catch(error => {\n      if (error.code == 'auth/email-already-in-use') {\n        this.common.getToast('User with given email already registered!').present();\n      } else if (error.code == 'auth/weak-password') {\n        this.common.getToast('Password should be at least 6 characters').present();\n      }\n    });\n\n  }\n\n  fileChange(event) {\n    if (event.target.files && event.target.files[0]) {\n      let reader = new FileReader();\n\n      reader.onload = (event: any) => {\n        this.previewPhoto = event.target.result;\n        this.photoBase64 = btoa(this.previewPhoto);\n      }\n      reader.readAsDataURL(event.target.files[0]);\n    }  \n    \n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/register/register.ts"],"sourceRoot":""}