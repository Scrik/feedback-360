{"version":3,"sources":["../../src/pages/feedback-form/feedback-form.module.ts","../../src/pages/feedback-form/feedback-form.ts","../../src/components/components.module.ts","../../src/components/star-rating/star-rating.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { FeedbackFormPage } from './feedback-form';\nimport { ComponentsModule } from '../../components/components.module';\n\n@NgModule({\n  declarations: [\n    FeedbackFormPage,\n  ],\n  imports: [\n    ComponentsModule,\n    IonicPageModule.forChild(FeedbackFormPage),\n  ],\n})\nexport class FeedbackFormPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feedback-form/feedback-form.module.ts","import { Component, ViewChild } from '@angular/core';\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { IonicPage, Slides, NavController, Content } from 'ionic-angular';\n\nimport { CommonProvider } from '../../providers/common/common';\nimport { BackendProvider } from '../../providers/backend/backend';\nimport { Feedback, Profile, Job } from '../../app/app.model';\n\n@IonicPage()\n@Component({\n  selector: 'page-feedback-form',\n  templateUrl: 'feedback-form.html',\n})\nexport class FeedbackFormPage {\n\n  profiles: Profile[]=[];\n  profileSelected: Profile;\n  job:Job;\n  feedback = new Map<string, Feedback>();\n\n  @ViewChild(Slides) slides: Slides;\n\n  @ViewChild(Content) content: Content;\n\n\n  \n  showPersonalDetailsForm = false;\n\n  constructor(\n    private navCtrl: NavController,\n    private formBuilder: FormBuilder,\n    private common: CommonProvider,\n    private backend: BackendProvider\n  ) { \n  }\n\n  ionViewWillLoad() {\n    this.backend.getProfiles().subscribe(res => {\n      this.profiles = res;\n    })\n  }\n\n  getImageProfile(imageBase64){\n    if(imageBase64){\n      return atob(imageBase64);\n    }else{\n      return 'assets/imgs/person-logo.png'\n    }    \n  }\n\n  ionViewDidLoad() {\n    this.slides.lockSwipes(true);\n  }\n\n  getCurrentSlide() {\n    if (this.slides) return this.slides.getActiveIndex();\n  }\n\n  back() {\n    this.slides.lockSwipes(false);\n    this.slides.slidePrev(300);\n    this.slides.lockSwipes(true);\n    this.showPersonalDetailsForm = false;\n    this.profileSelected = null;\n    this.job = null;\n    this.feedback = new Map<string, Feedback>();\n  }\n\n  avaliar(profile:Profile) {\n    this.profileSelected = profile\n    this.showPersonalDetailsForm = true;\n    this.slides.lockSwipes(false);\n    this.slides.slideNext(300);\n    this.slides.lockSwipes(true);\n    this.loadJob(profile.jobTitle);\n  }\n\n  loadJob(jobTitle:string){\n    this.backend.getJob(jobTitle).subscribe( res =>{\n      this.job = res;\n    })\n  }\n\n  updateRating(skill:string, rating:number){\n    this.feedback.set(skill, <Feedback> {skill, rating});\n  }\n\n  submit() {\n\n    if(this.feedback.size==0){\n      return this.common.getToast('Nenhuma competÃªncia foi avaliada!').present();\n    }\n\n    this.common.getToast('Obrigado, seu feedback foi registrado!').present();\n    this.backend.addFeedback(this.profileSelected.uid,Array.from(this.feedback.values()));\n    this.navCtrl.pop();    \n\n  }\n\n  scrollToTop() {\n    this.content.scrollToTop();\n  }\n\n  scrollToBottom() {\n    this.content.scrollToBottom();\n  }\n\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/feedback-form/feedback-form.ts","import { NgModule } from '@angular/core';\nimport { StarRatingComponent } from './star-rating/star-rating';\nimport { IonicModule } from 'ionic-angular';\n@NgModule({\n\tdeclarations: [StarRatingComponent],\n\timports: [IonicModule],\n\texports: [StarRatingComponent]\n})\nexport class ComponentsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/components.module.ts","import { Component, Output, EventEmitter, Input } from '@angular/core';\n\n@Component({\n  selector: 'star-rating',\n  templateUrl: 'star-rating.html'\n})\nexport class StarRatingComponent {\n\n  rating = 0;\n  @Output() ratingChanged = new EventEmitter<number>();\n  @Input() title:string;\n\n  constructor() { }\n\n  changeRating(index: number) {\n    this.rating = index + 1;\n    this.ratingChanged.emit(this.rating);\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/star-rating/star-rating.ts"],"sourceRoot":""}